:root{
  --bg1:#0b0b12;
  --bg2:#190b1a;
  --card:#121223cc;
  --stroke:#ffffff22;
  --text:#f6f6ff;
  --muted:#cfcfe6cc;
  --primary:#ff4d87;
  --primary2:#ff7ab0;
  --danger:#ff3b3b;
}

*{ 
  box-sizing:border-box;
  margin: 0;
  padding: 0;
}

html,body{ 
  height:100%;
  width: 100%;
}

body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background: radial-gradient(1200px 800px at 20% 10%, #2b0f2f, transparent 60%),
              radial-gradient(1000px 700px at 80% 20%, #1a2b6a, transparent 60%),
              linear-gradient(160deg, var(--bg1), var(--bg2));
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  overflow:hidden;
  position: relative;
}

.bg-hearts{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.bg-hearts::before{
  content:"";
  position:absolute;
  inset:-20%;
  background-image:
    radial-gradient(circle at 10% 20%, #ff4d871a 0 6px, transparent 7px),
    radial-gradient(circle at 40% 60%, #ff7ab01a 0 7px, transparent 8px),
    radial-gradient(circle at 70% 30%, #ffd1e11a 0 5px, transparent 6px),
    radial-gradient(circle at 85% 75%, #ff4d8714 0 8px, transparent 9px);
  animation: floaty 14s ease-in-out infinite alternate;
}

@keyframes floaty{
  from{ transform: translate3d(-1%, -1%, 0) scale(1); }
  to  { transform: translate3d(1%, 1%, 0) scale(1.02); }
}

/* Overlay - Must be on top of everything */
.overlay{
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(12px);
}

.overlay.hidden{
  display: none !important;
}

.overlay-card{
  width: min(450px, 90vw);
  padding: 40px 30px;
  border-radius: 24px;
  border: 1px solid var(--stroke);
  background: linear-gradient(180deg, var(--card), #0f0f1fcc);
  box-shadow: 0 20px 70px #00000099;
  text-align: center;
}

.overlay-card h2{
  margin: 0 0 24px;
  font-size: clamp(24px, 5vw, 32px);
  font-weight: 800;
}

/* Slideshow */
.slideshow-wrapper{
  width: min(700px, 100%);
  max-width: 700px;
  position: relative;
  z-index: 10;
}

.slideshow-wrapper.hidden{
  display: none !important;
}

.slide-card{
  display:none;
  width: 100%;
  min-height: 500px;
  padding: 60px 30px;
  border: 1px solid var(--stroke);
  border-radius: 24px;
  box-shadow: 0 20px 70px #00000066;
  backdrop-filter: blur(10px);
  text-align: center;
  position: relative;
  cursor: pointer;
  
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Dark overlay on slides for text readability */
.slide-card::before{
  content:"";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(10,10,20,.6), rgba(10,10,20,.85));
  border-radius: 24px;
  pointer-events: none;
}

.slide-card.active{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  animation: slideIn 0.6s cubic-bezier(.16,1,.3,1);
}

@keyframes slideIn{
  from{ 
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  to{ 
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.slide-content{
  width: 100%;
  position: relative;
  z-index: 2;
}

.slide-number{
  position: absolute;
  top: -40px;
  right: 0;
  font-size: 14px;
  color: var(--muted);
  font-weight: 600;
  opacity: 0.6;
}

.slide-title{
  font-size: clamp(28px, 5vw, 48px);
  margin: 0 0 20px;
  font-weight: 800;
  line-height: 1.1;
  text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.slide-text{
  font-size: clamp(16px, 3vw, 22px);
  margin: 0 0 30px;
  color: var(--muted);
  line-height: 1.5;
}

.slide-subtext{
  font-size: 14px;
  color: var(--muted);
  opacity: 0.7;
  margin: 0;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse{
  0%, 100%{ opacity: 0.5; }
  50%{ opacity: 1; }
}

.slide-indicators{
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 30px;
}

.indicator{
  width: 35px;
  height: 4px;
  background: rgba(255,255,255,0.2);
  border-radius: 2px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.indicator.active{
  background: var(--primary);
  width: 50px;
}

/* Main Valentine Card - MUST BE COMPLETELY HIDDEN INITIALLY */
.card{
  width: min(700px, 100%);
  max-width: 700px;
  padding: 35px 25px;
  border: 1px solid var(--stroke);
  border-radius: 24px;
  background: linear-gradient(180deg, var(--card), #0f0f1fcc);
  box-shadow: 0 20px 70px #00000066;
  backdrop-filter: blur(10px);
  position: absolute;
  z-index: 10;
  display: none;
}

.card.show{
  display: block !important;
  position: relative;
}

.tag{
  margin: 0 0 12px;
  color: var(--muted);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 11px;
}

h1{
  margin: 0 0 12px;
  font-size: clamp(26px, 5vw, 42px);
  line-height: 1.1;
  font-weight: 800;
}

.sub{
  margin: 0 0 20px;
  color: var(--muted);
  font-size: 16px;
  line-height: 1.5;
}

.controls{
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  margin: 12px 0 18px;
}

.hint{ 
  font-size: 13px;
  color: var(--muted);
}

.actions{
  display: flex;
  gap: 12px;
  margin-top: 12px;
  flex-wrap: wrap;
}

.btn{
  border: none;
  border-radius: 14px;
  padding: 13px 24px;
  font-size: 15px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.15s ease, filter 0.15s ease;
  user-select: none;
}

.btn:hover{ 
  transform: translateY(-2px);
  filter: brightness(1.08);
}

.btn:active{ 
  transform: translateY(0) scale(0.98);
}

.primary{
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.secondary{
  background: #ffffff10;
  color: var(--text);
  border: 1px solid var(--stroke);
}

.danger{
  background: #ffffff10;
  color: var(--text);
  border: 1px solid #ff3b3b55;
}

.result{
  margin-top: 20px;
  min-height: 50px;
  padding: 16px;
  border-radius: 16px;
  border: 1px dashed var(--stroke);
  display: flex;
  align-items: center;
}

.footer{
  margin-top: 16px;
  display: flex;
  justify-content: flex-end;
  color: var(--muted);
  font-size: 12px;
}

/* Confetti */
.confetti{
  position: fixed;
  z-index: 9999;
  background: white;
  border-radius: 3px;
  pointer-events: none;
  animation: fall linear forwards;
}

@keyframes fall{
  to{ 
    transform: translateY(110vh) rotate(720deg);
    opacity: 0;
  }
}

/* Mobile responsiveness */
@media (max-width: 640px){
  .slide-card{ 
    padding: 50px 25px;
    min-height: 420px;
  }
  
  .indicator{ 
    width: 28px;
  }
  
  .indicator.active{ 
    width: 42px;
  }
  
  .overlay-card{
    padding: 30px 20px;
  }
  
  .card{
    padding: 28px 20px;
  }
}
